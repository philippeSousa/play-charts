#{extends 'main.html' /} #{set title:'Home' /} #{set 'moreScripts'}
#{/set}
<!--Load the AJAX API-->
<script type="text/javascript">
	//$.get()
	var result;
	function getJson() {
		var result = "";
		$.get('/manager/echoVariables', {
			var1 : "foo",
			var2 : 5
		}, function(responseText) {
			var data = new google.visualization.DataTable();
			data.addColumn('string', 'Topping');
			data.addColumn('number', 'Slices');
			data.addRows(responseText);

			var options = {
				'title' : 'How Much Pizza I Ate Last Night',
				'width' : 400,
				'height' : 300
			};

			var chart = new google.visualization.PieChart(document
					.getElementById('chart_div'));
			chart.draw(data, options);
			//result = responseText;
			//chart.draw(data, options);
			//$("#result").html(responseText);
			//$("#result").html(JSON.stringify(responseText));
		}, "json");
		//return result;
	}
</script>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">
	// Load the Visualization API and the piechart package.
	google.load('visualization', '1.0', {
		'packages' : [ 'corechart' ]
	});

	// Set a callback to run when the Google Visualization API is loaded.
	google.setOnLoadCallback(getJson);

	// Callback that creates and populates a data table,
	// instantiates the pie chart, passes in the data and
	// draws it.
	function drawChart() {

		// Create the data table.
		//var data = new google.visualization.DataTable();
		//data.addColumn('string', 'Topping');
		//data.addColumn('number', 'Slices');
		//data.addRows(getJson());

		// Set chart options
		//var options = {
		//	'title' : 'How Much Pizza I Ate Last Night',
		//	'width' : 400,
		//	'height' : 300
		//};

		// Instantiate and draw our chart, passing in some options.
		//var chart = new google.visualization.PieChart(document
		//		.getElementById('chart_div'));
		//chart.draw(data, options);
	}
</script>



<body>
	<!--Div that will hold the pie chart-->
	<div id="chart_div"></div>

	<!--Div that will hold the pie chart-->
	<div id="result"></div>
</body>
